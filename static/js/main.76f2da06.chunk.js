(this.webpackJsonpdispense=this.webpackJsonpdispense||[]).push([[0],{114:function(e,a,t){e.exports={Backdrop:"Backdrop_Backdrop__1Ovz0"}},115:function(e,a,t){e.exports={main_container:"Main_main_container__3lk47"}},116:function(e,a,t){"use strict";t.r(a);var n=t(56),r=t(14),o=t(12),c=t(0),l=t.n(c),i=t(90),s=t(34),u=t(119),m=t.n(u),d=t(24),g=t(8),p=t.n(g),f={caseCode:{touched:!1,error:!1,value:""},chineseName:{touched:!1,error:!1,value:""},englishName:{touched:!1,error:!1,value:""},age:{touched:!1,error:!1,value:""},contactNumber:{touched:!1,error:!1,value:""},dateOfRegistration:{touched:!1,error:!1,value:""},address:{touched:!1,error:!1,value:""},allergy:{touched:!1,error:!1,value:""},adverseDrugReaction:{touched:!1,error:!1,value:""},remark:{touched:!1,error:!1,value:""}};a.default=function(e){var a=Object(c.useState)(f),t=Object(o.a)(a,2),u=t[0],g=t[1],h=Object(c.useState)(!1),v=Object(o.a)(h,2),E=v[0],N=v[1],b=Object(c.useState)(!1),_=Object(o.a)(b,2),k=_[0],w=_[1];Object(c.useEffect)((function(){if(/[\/]patient[\/]existing[\/].+/.test(window.location.pathname)){var e={query:'  \n             query {\n               patients(_id:"'.concat(window.location.pathname.split("/")[3],'") {\n                caseCode\n                chineseName \n                englishName\n                age\n                contactNumber\n                dateOfRegistration\n                address\n                allergy\n                adverseDrugReaction\n                remark\n                updatedAt\n               }\n             }\n          ')};N(!0),fetch(d.graphqlServerUrl,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("dispenseToken")}}).then((function(e){return 200!==e.status&&201!==e.status&&(N(!1),alert("error")),e.json()})).then((function(e){g({caseCode:{touched:!1,error:!1,value:e.data.patients[0].caseCode},chineseName:{touched:!1,error:!1,value:e.data.patients[0].chineseName},englishName:{touched:!1,error:!1,value:e.data.patients[0].englishName},age:{touched:!1,error:!1,value:e.data.patients[0].age},contactNumber:{touched:!1,error:!1,value:e.data.patients[0].contactNumber},dateOfRegistration:{touched:!1,error:!1,value:e.data.patients[0].dateOfRegistration?new Date(e.data.patients[0].dateOfRegistration).toISOString().substring(0,10):""},address:{touched:!1,error:!1,value:e.data.patients[0].address},allergy:{touched:!1,error:!1,value:e.data.patients[0].allergy},adverseDrugReaction:{touched:!1,error:!1,value:e.data.patients[0].adverseDrugReaction},remark:{touched:!1,error:!1,value:e.data.patients[0].remark}}),N(!1)})).catch((function(e){N(!1),alert(e)}))}else g(f)}),[window.location.pathname]);var O=function(e,a){g(Object(r.a)(Object(r.a)({},u),{},Object(n.a)({},e,{touched:!0,value:a.target.value,error:y(e,a.target.value)})))},y=function(e,a){var t=!1;if("age"===e)t=!(a&&a.replaceAll(" ","").length>0&&+a>=0&&+a<=120);else if("contactNumber"===e){t=!new RegExp(/^\+?[0-9]+$/).test(a.replaceAll(" ",""))}else"caseCode"===e&&(t=0===a.replaceAll(" ","").length);return t},j=function(){w(!1)},I=l.a.createElement("p",{style:{color:"#f44336",margin:"2px"}},"Invalid");return l.a.createElement(c.Fragment,null,E?l.a.createElement("div",{className:p.a["form-container"]}," ",l.a.createElement(s.a,null)," "):l.a.createElement("form",{className:p.a["form-container"],onSubmit:function(a){a.preventDefault();var t="";u.dateOfRegistration.value.length>0&&(t=new Date(u.dateOfRegistration.value).toISOString());var n,o=m()(u),c=!1;for(var l in o)c=c||y(l,o[l].value),o[l].touched=!0,o[l].error=y(l,o[l].value);c?g(Object(r.a)({},o)):(n="/patient/new"===e.routeName?{query:'\n           mutation {\n            createPatient (\n               patientInfoInput:{\n                caseCode: "'.concat(u.caseCode.value,'" ,\n                chineseName:"').concat(u.chineseName.value,'",\n                englishName: "').concat(u.englishName.value,'",\n                age:"').concat(String.valueOf(u.age.value),'",\n                contactNumber:"').concat(u.contactNumber.value,'",\n                dateOfRegistration:"').concat(t,'",\n                address: "').concat(u.address.value,'",\n                allergy: "').concat(u.allergy.value,'",\n                adverseDrugReaction: "').concat(u.adverseDrugReaction.value,'",\n                remark: "').concat(u.remark.value,'"           \n                }) {\n               age\n             }\n           }\n        ')}:{query:'\n           mutation {\n            updatePatient (\n              _id:"'.concat(window.location.pathname.split("/")[3],'",\n               patientInfoInput:{\n                caseCode: "').concat(u.caseCode.value,'" ,\n                chineseName:"').concat(u.chineseName.value,'",\n                englishName: "').concat(u.englishName.value,'",\n                age:"').concat(u.age.value,'",\n                contactNumber:"').concat(u.contactNumber.value,'",\n                dateOfRegistration:"').concat(t,'",\n                address: "').concat(u.address.value,'",\n                allergy: "').concat(u.allergy.value,'",\n                adverseDrugReaction: "').concat(u.adverseDrugReaction.value,'",\n                remark: "').concat(u.remark.value,'"           \n                }) {\n               age\n             }\n           }\n        ')},N(!0),fetch(d.graphqlServerUrl,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("dispenseToken")}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed");return e.json()})).then((function(a){a.errors?alert(a.errors):"/patient/new"===e.routeName?(w(!0),g(f)):(e.updateInfo(window.location.pathname.split("/")[3],{caseCode:o.caseCode.value,englishName:o.englishName.value,chineseName:u.chineseName.value}),w(!0)),N(!1)})).catch((function(e){N(!1),alert("An unexpected error occured!")})))}},l.a.createElement(i.a,{show:k,modalClosed:j},l.a.createElement("div",{className:p.a["success-text"]},l.a.createElement("p",null,"Success!"),l.a.createElement("button",{type:"button",onClick:j},"Confirm"))),l.a.createElement("section",{className:p.a["info-item"]},l.a.createElement("label",{htmlFor:"caseCode"},"Case Code:"),l.a.createElement("input",{className:u.caseCode.error&&u.caseCode.touched?p.a.error:null,type:"text",id:"caseCode",name:"caseCode",value:u.caseCode.value,onChange:function(e){return O("caseCode",e)}}),u.caseCode.error&&u.caseCode.touched?I:null),l.a.createElement("section",{className:p.a["info-item"]},l.a.createElement("label",{htmlFor:"chineseName"},"Chinese Name:"),l.a.createElement("input",{className:u.chineseName.error&&u.chineseName.touched?p.a.error:null,type:"text",id:"chineseName",name:"chineseName",value:u.chineseName.value,onChange:function(e){return O("chineseName",e)}}),u.chineseName.error&&u.chineseName.touched?I:null),l.a.createElement("section",{className:p.a["info-item"]},l.a.createElement("label",{htmlFor:"englishName"},"English Name:"),l.a.createElement("input",{className:u.englishName.error&&u.englishName.touched?p.a.error:null,type:"text",id:"englishName",name:"englishName",value:u.englishName.value,onChange:function(e){return O("englishName",e)}}),u.englishName.error&&u.englishName.touched?I:null),l.a.createElement("section",{className:p.a["info-item"]},l.a.createElement("label",{htmlFor:"age"},"Age:"),l.a.createElement("input",{className:u.age.error&&u.age.touched?p.a.error:null,type:"number",id:"age",name:"age",value:u.age.value,onChange:function(e){return O("age",e)}}),u.age.error&&u.age.touched?I:null),l.a.createElement("section",{className:p.a["info-item"]},l.a.createElement("label",{htmlFor:"contactNumber"},"Contact Number:"),l.a.createElement("input",{className:u.contactNumber.error&&u.contactNumber.touched?p.a.error:null,type:"phone",id:"contactNumber",name:"contactNumber",value:u.contactNumber.value,onChange:function(e){return O("contactNumber",e)}}),u.contactNumber.error&&u.contactNumber.touched?I:null),l.a.createElement("section",{className:p.a["info-item"]},l.a.createElement("label",{htmlFor:"regDate"},"Date of Registration"),l.a.createElement("input",{className:u.dateOfRegistration.error&&u.dateOfRegistration.touched?p.a.error:null,type:"date",id:"regDate",name:"regDate",value:u.dateOfRegistration.value,onChange:function(e){return O("dateOfRegistration",e)}}),u.dateOfRegistration.error&&u.dateOfRegistration.touched?I:null),l.a.createElement("section",{className:p.a["info-item"]},l.a.createElement("label",{htmlFor:"address"},"Address:"),l.a.createElement("textarea",{className:u.address.error&&u.address.touched?p.a.error:null,type:"text",id:"address",name:"address",value:u.address.value,onChange:function(e){return O("address",e)}}),u.address.error&&u.address.touched?I:null),l.a.createElement("section",{className:p.a["info-item"]},l.a.createElement("label",{htmlFor:"allergy"},"Allergy:"),l.a.createElement("div",{className:p.a.NKDA_item,onClick:function(){g(Object(r.a)(Object(r.a)({},u),{},{allergy:Object(r.a)(Object(r.a)({},u.allergy),{},{value:"No Known Drug Allergy"})}))}},"NKDA"),l.a.createElement("textarea",{className:u.allergy.error&&u.allergy.touched?p.a.error:null,id:"allergy",name:"allergy",rows:"4",cols:"20",value:u.allergy.value,onChange:function(e){return O("allergy",e)}}),u.allergy.error&&u.allergy.touched?I:null),l.a.createElement("section",{className:p.a["info-item"]},l.a.createElement("label",{htmlFor:"adr"},"Adverse Drug Reaction:"),l.a.createElement("textarea",{className:u.adverseDrugReaction.error&&u.adverseDrugReaction.touched?p.a.error:null,id:"adr",name:"adr",rows:"4",cols:"20",value:u.adverseDrugReaction.value,onChange:function(e){return O("adverseDrugReaction",e)}}),u.adverseDrugReaction.error&&u.adverseDrugReaction.touched?I:null),l.a.createElement("section",{className:p.a["info-item"]},l.a.createElement("label",{htmlFor:"remark"},"Remark:"),l.a.createElement("textarea",{className:u.remark.error&&u.remark.touched?p.a.error:null,id:"remark",name:"remark",rows:"4",cols:"20",value:u.remark.value,onChange:function(e){return O("remark",e)}}),u.remark.error&&u.remark.touched?I:null),l.a.createElement("button",{type:"submit"},"/patient/new"===e.routeName?"Create":"Update")))}},118:function(e,a,t){e.exports={Loader:"Loader_Loader__5YQT7",load6:"Loader_load6__1X31U",round:"Loader_round__1L8ck"}},120:function(e,a,t){e.exports={list:"NavigationItems_list__3Dhpt"}},121:function(e,a,t){e.exports={"main-nav":"EPHeaderNav_main-nav__1cjQF"}},122:function(e,a,t){e.exports={"component-container":"ExistingPatientProfile_component-container__2mEvy"}},137:function(e,a,t){e.exports=t(218)},142:function(e,a,t){},143:function(e,a,t){},218:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),c=t.n(o),l=(t(142),t(12)),i=t(14),s=t(25),u=t(11),m=(t(143),r.a.createContext({token:null,userId:null,login:function(e,a,t){},logout:function(){}})),d=function(e){var a=Object(n.useRef)(null);return Object(n.useEffect)((function(){function t(t){a.current&&!a.current.contains(t.target)?e.cancelShowLogout():a.current&&a.current.contains(t.target)&&e.showLogout()}return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[a]),r.a.createElement("div",{ref:a},e.children)},g=t(63),p=t.n(g),f=t(219),h=t(110),v=t.n(h),E=function(e){var a=Object(n.useState)(!1),t=Object(l.a)(a,2),o=t[0],c=t[1],i=Object(n.useContext)(m);return r.a.createElement("div",{className:p.a.Toolbar},r.a.createElement(f.a,{onClick:e.drawerToggleClicked},r.a.createElement(v.a,{style:{fill:"white",cursor:"pointer"}})),r.a.createElement(d,{cancelShowLogout:function(){c(!1)},showLogout:function(){c(!0)}},r.a.createElement("div",{className:p.a.circle},"A"),r.a.createElement("div",{className:p.a.logout,style:{display:o?"block":"none"}},r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){i.logout()}},"Log out")))))},N=t(111),b=t.n(N),_=t(64),k=t.n(_),w=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:k.a.Logo},r.a.createElement(b.a,{style:{fill:"#ab1032",fontSize:50}}),r.a.createElement("div",null," PHHK")),r.a.createElement("div",null,r.a.createElement("p",{className:k.a["welcome-msg"]},"Welcome, Admin")),r.a.createElement("div",null,r.a.createElement("p",{className:k.a.demo},"Dispense Demo")))},O=t(65),y=t.n(O),j=t(79),I=t.n(j),C=function(e){return r.a.createElement("li",{className:I.a.NavigationItem},r.a.createElement(s.b,{exact:e.exact,to:e.link,activeClassName:I.a.active},r.a.createElement("div",null,e.children)))},S=t(113),x=t.n(S),D=t(112),R=t.n(D),T=function(){return r.a.createElement("ul",{className:y.a.NavigationItems},r.a.createElement(C,{link:"/patient/new"},r.a.createElement(R.a,{style:{fontSize:30}}),r.a.createElement("span",{className:y.a.spacer}),"New Patient"),r.a.createElement(C,{link:"/patient/existing"},r.a.createElement(x.a,{style:{fontSize:30}}),r.a.createElement("span",{className:y.a.spacer}),"Existing Patient"))},P=t(32),F=t.n(P),L=t(62),A=function(e){var a;return a=e.show?[F.a.SideDrawer,F.a.Open]:[F.a.SideDrawer,F.a.Close],r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{show:e.show,clicked:e.closed}),r.a.createElement("div",{className:a.join(" ")},r.a.createElement("div",{className:F.a.Logo},r.a.createElement(w,null)),r.a.createElement("div",{className:F.a.spacer}),r.a.createElement("nav",null,r.a.createElement(T,null))))},q=function(e){var a=Object(n.useState)(!1),t=Object(l.a)(a,2),o=t[0],c=t[1];return r.a.createElement(n.Fragment,null,r.a.createElement(E,{drawerToggleClicked:function(){c(!o)}}),r.a.createElement(A,{show:o,closed:function(){c(!1)}}),e.children)},H=t(115),z=t.n(H),B=t(66),U=t.n(B),K=t(116),J=function(e){return r.a.createElement("div",{className:U.a["new-patient-container"]},r.a.createElement("div",{className:U.a.background}),r.a.createElement("div",{className:U.a["personal-info-container"]},r.a.createElement(K.default,{routeName:"/patient/new",token:e.token})))},M=t(43),W=t(24),Y=t(120),Q=t.n(Y),Z=t(83),G=t.n(Z),V=function(e){return r.a.createElement("li",{className:G.a.NavigationItem},r.a.createElement(s.b,{to:e.link,activeClassName:G.a.active},e.children))},X=function(e){var a=Object(n.useState)(""),t=Object(l.a)(a,2),o=t[0],c=t[1];return Object(n.useEffect)((function(){c(e.patientBriefInfo)}),[e]),r.a.createElement("ul",{onClick:e.click,className:Q.a.list},o?o.map((function(e,a){return r.a.createElement(V,{link:"/patient/existing/"+e._id,key:a},e.caseCode+" "+e.chineseName+"("+e.englishName+")")})):null)},$=t(48),ee=t.n($),ae=t(84),te=t.n(ae),ne=function(e){return r.a.createElement("li",{className:te.a.NavigationItem,onClick:function(){return e.onNavHandler(e.id)}},r.a.createElement("button",{className:e.id==e.clickedHeader?te.a.active:null},function(e){switch(e){case"personalinfo":return"Personal Information";case"transactionrecord":return"Transaction Record"}}(e.id)))},re=t(121),oe=t.n(re),ce=function(e){var a=window.location.pathname.split("/")[3],t=[{id:"personalinfo",text:"Personal Information",link:"/patient/existing/".concat(a,"/personalinfo"),auth:!0},{id:"transactionrecord",text:"Transaction Record",link:"/patient/existing/".concat(a,"/transactionrecord"),auth:!0}];return r.a.createElement("nav",null,r.a.createElement("ul",{className:oe.a["main-nav"]},t.map((function(a){return r.a.createElement(ne,{clickedHeader:e.clickedHeader,onNavHandler:e.onNavHandler,key:a.id,id:a.id,link:a.link,text:a.text})}))))},le=t(122),ie=t.n(le),se=r.a.lazy((function(){return t.e(4).then(t.bind(null,684))})),ue=r.a.lazy((function(){return Promise.resolve().then(t.bind(null,116))})),me=r.a.memo((function(e){var a=Object(n.useState)("personalinfo"),t=Object(l.a)(a,2),o=t[0],c=t[1],i=Object(n.useState)(""),s=Object(l.a)(i,2),u=s[0],m=s[1];Object(n.useEffect)((function(){var e={query:'  \n                 query {\n                   patients(_id:"'.concat(window.location.pathname.split("/")[3],'") {\n                    caseCode\n                    chineseName \n                    englishName\n                   }\n                 }\n              ')};fetch(W.graphqlServerUrl,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("dispenseToken")}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed");return e.json()})).then((function(e){m([].concat(Object(M.a)(e.data.patients),[{_id:window.location.pathname.split("/")[3]}]))})).catch((function(e){alert("An unexpected error occured!")}))}),[window.location.pathname]);return r.a.createElement("section",null,r.a.createElement(ce,{onNavHandler:function(e){c(e)},clickedHeader:o}),r.a.createElement("div",{className:ie.a["component-container"]},"personalinfo"===o?r.a.createElement(n.Suspense,{fallback:r.a.createElement("h1",null,"loading...")},r.a.createElement(ue,Object.assign({token:localStorage.getItem("dispenseToken"),updateInfo:e.updateInfo},e,{routeName:"/patient/existing"}))):null,"transactionrecord"===o?r.a.createElement(n.Suspense,{fallback:r.a.createElement("h1",null,"loading...")},r.a.createElement(se,Object.assign({token:localStorage.getItem("dispenseToken"),patientInfo:u,patientId:window.location.pathname.split("/")[3]},e))):null))})),de=t(34),ge=function(e){var a=Object(n.useState)(""),t=Object(l.a)(a,2),o=t[0],c=t[1],s=Object(n.useState)(!1),m=Object(l.a)(s,2),d=m[0],g=m[1],p=Object(n.useState)(!1),f=Object(l.a)(p,2),h=f[0],v=f[1];Object(n.useEffect)((function(){v(!0),fetch(W.graphqlServerUrl,{method:"POST",body:JSON.stringify({query:"\n                 query {\n                   patients {\n                    _id\n                    caseCode\n                    chineseName \n                    englishName\n                   }\n                 }\n              "}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed");return e.json()})).then((function(e){c(Object(M.a)(e.data.patients)),v(!1)})).catch((function(e){v(!1)}))}),[]);var E=function(e,a){var t=Object(M.a)(o),n=t.findIndex((function(a){return a._id===e}));t[n]=Object(i.a)(Object(i.a)({},a),{},{_id:e}),c(t)};return r.a.createElement("div",{className:ee.a["main-container"]},r.a.createElement("div",null,r.a.createElement("p",{className:ee.a["sidebar-header"]},"Patient List"),r.a.createElement("nav",{className:ee.a.sidebar},h?r.a.createElement(de.a,null):r.a.createElement(X,{patientBriefInfo:o,click:function(){g(!0)}}))),r.a.createElement("div",{className:ee.a["main-content"]},d?r.a.createElement(u.b,{exact:!0,path:"/patient/existing/:id",render:function(e){return r.a.createElement(me,Object.assign({token:e.token,updateInfo:E},e))}}):null))},pe=function(e){return r.a.createElement(n.Fragment,null,null!=localStorage.getItem("dispenseToken")&&"null"!=localStorage.getItem("dispenseToken")?r.a.createElement(q,null,r.a.createElement("main",{className:z.a.main_container},r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/patient/new",render:function(e){return r.a.createElement(J,Object.assign({},e,{token:localStorage.getItem("dispenseToken"),routeName:"/patient/new"}))}}),r.a.createElement(u.b,{path:"/patient/existing",render:function(e){return r.a.createElement(ge,Object.assign({token:localStorage.getItem("dispenseToken")},e,{routeName:"/patient/existing"}))}})))):r.a.createElement(u.a,{to:"/signin"}))},fe=t(262),he=t(259),ve=t(255),Ee=t(260),Ne=t(261),be=t(123),_e=t.n(be),ke=t(256),we=t(253),Oe=t(254),ye=Object(we.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function je(e){var a=ye(),t=Object(n.useState)(!1),o=Object(l.a)(t,2),c=o[0],i=o[1],s=Object(n.useRef)(),d=Object(n.useRef)(),g=Object(n.useContext)(m),p=(Object(u.g)(),function(e){e.preventDefault();var a=s.current.value,t=d.current.value,n={query:'\n         query {\n           login (email: "'.concat(a,'", password: "').concat(t,'") {\n             userId\n             token\n             tokenExpiration\n           }\n         }\n      ')};i(!0),fetch(W.graphqlServerUrl,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed");return e.json()})).then((function(e){e.data.login.token&&g.login(e.data.login.token,e.data.login.userId,e.data.login.tokenExpiration)})).catch((function(e){i(!1),alert("Incorrect email or password!")}))});return r.a.createElement(m.Consumer,null,(function(e){return e.token?r.a.createElement(u.a,{to:"/"}):r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},c?r.a.createElement(de.a,null):null,r.a.createElement(ve.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(fe.a,{className:a.avatar},r.a.createElement(_e.a,null)),r.a.createElement(ke.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:p},r.a.createElement(Ee.a,{variant:"outlined",margin:"normal",inputRef:s,required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(Ee.a,{variant:"outlined",margin:"normal",inputRef:d,required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(he.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"))),r.a.createElement(Ne.a,{mt:8}),r.a.createElement("p",null,"(For demo purpose)You can use test@test.com as the email and 123456 as the password"))}))}var Ie=r.a.lazy((function(){return Promise.all([t.e(2),t.e(5)]).then(t.bind(null,683))})),Ce=function(e,a){switch(a.type){case"Login":return localStorage.setItem("dispenseToken",a.token),Object(i.a)(Object(i.a)({},e),{},{token:a.token,userId:a.userId});case"Logout":return localStorage.removeItem("dispenseToken"),Object(i.a)(Object(i.a)({},e),{},{token:null,userId:null});default:throw new Error("Should not get there!")}},Se=function(e){var a=Object(n.useReducer)(Ce,{}),t=Object(l.a)(a,2),o=t[0],c=t[1];Object(n.useEffect)((function(){document.title="Dispense"}),[]);return r.a.createElement(s.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(m.Provider,{value:{token:o.token,userId:o.userId,login:function(e,a,t){c({type:"Login",token:e,userId:a})},logout:function(){c({type:"Logout"})}}},r.a.createElement("main",null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/signin",render:function(e){return r.a.createElement(je,e)}}),r.a.createElement(u.b,{path:"/print",render:function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(Ie,null))}}),r.a.createElement(u.b,{path:"/",render:function(e){return r.a.createElement(pe,e)}}),r.a.createElement(u.a,{to:"/"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,a){a.graphqlServerUrl="https://whispering-basin-06963.herokuapp.com/graphql"},32:function(e,a,t){e.exports={SideDrawer:"SideDrawer_SideDrawer__1FLmz",Open:"SideDrawer_Open__1HvEi",Close:"SideDrawer_Close__2M6UG",spacer:"SideDrawer_spacer__1DPvu"}},34:function(e,a,t){"use strict";var n=t(0),r=t.n(n),o=t(118),c=t.n(o);a.a=function(e){return r.a.createElement("div",{className:c.a.Loader},"Loading...")}},48:function(e,a,t){e.exports={"main-container":"ExistingPatient_main-container__syIGb",sidebar:"ExistingPatient_sidebar__3PZ9k","sidebar-header":"ExistingPatient_sidebar-header__3cHRe"}},62:function(e,a,t){"use strict";var n=t(0),r=t.n(n),o=t(114),c=t.n(o);a.a=function(e){return e.show?r.a.createElement("div",{className:c.a.Backdrop,onClick:e.clicked}):null}},63:function(e,a,t){e.exports={Toolbar:"Toolbar_Toolbar__12p80",circle:"Toolbar_circle__UcnzW",logout:"Toolbar_logout__dpzyF"}},64:function(e,a,t){e.exports={Logo:"Logo_Logo__3c4-b","welcome-msg":"Logo_welcome-msg__y2J9L",demo:"Logo_demo__3DcFA"}},65:function(e,a,t){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fvrF",spacer:"NavigationItems_spacer__F1HBf"}},66:function(e,a,t){e.exports={"new-patient-container":"NewPatient_new-patient-container__1I9xr","personal-info-container":"NewPatient_personal-info-container__3Zj-v",background:"NewPatient_background__3Tu4d"}},79:function(e,a,t){e.exports={NavigationItem:"NavigationItem_NavigationItem__32yG2",active:"NavigationItem_active__XopZo"}},8:function(e,a,t){e.exports={"form-container":"PersonalInfo_form-container__2QQ0t","info-item":"PersonalInfo_info-item__rP1KZ",NKDA_item:"PersonalInfo_NKDA_item__1FdCt",error:"PersonalInfo_error__24V_t","success-text":"PersonalInfo_success-text__1kTOT"}},82:function(e,a,t){e.exports={Modal:"Modal_Modal__35rfT","close-icon-container":"Modal_close-icon-container__2dioi"}},83:function(e,a,t){e.exports={NavigationItem:"NavigationItem_NavigationItem__Y3yKC",active:"NavigationItem_active__rgK2T",spacer:"NavigationItem_spacer__cHSST"}},84:function(e,a,t){e.exports={NavigationItem:"NavigationItem_NavigationItem__1eRaQ",active:"NavigationItem_active__1Y64k"}},90:function(e,a,t){"use strict";var n=t(0),r=t.n(n),o=t(82),c=t.n(o),l=t(62),i=t(117),s=t.n(i),u=t(219);a.a=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(l.a,{show:e.show}),r.a.createElement("div",{className:c.a.Modal,style:{display:e.show?"block":"none",transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0",width:e.width,height:e.height}},r.a.createElement("div",{className:c.a["close-icon-container"]},r.a.createElement(u.a,{onClick:e.modalClosed},r.a.createElement(s.a,{style:{cursor:"pointer"}}))),e.children))}}},[[137,1,3]]]);
//# sourceMappingURL=main.76f2da06.chunk.js.map